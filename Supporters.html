<!DOCTYPE html>
<!-- saved from url=(0032)https://glabootcamp.netlify.app/ -->
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GRITLab Africa Bootcamp</title>
  <link rel="icon" type="image/png" href="Assets/images/GritLabAfricaLogo.png">
  <link rel="preconnect" href="https://fonts.googleapis.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
  <link href="./GRITLab Africa Bootcamp_files/css2" rel="stylesheet">
  <link rel="stylesheet" href="./GRITLab Africa Bootcamp_files/all.min.css">

    <!-- Chatbot dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/lucide@0.441.0/dist/umd/lucide.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked@7.0.0/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>
  
  <!-- Masterpage CSS -->
  <!-- Chatbot CSS -->
  <link rel="stylesheet" href="chatbot.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      color: #000;
    }

    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }

    a {
      text-decoration: none;
      color: #000;
    }

    ul {
      list-style: none;
    }

    header {
      position: absolute;
      width: 100%;
      top: 0;
      left: 0;
      padding: 20px 0;
      z-index: 1000;
      background-color: #fff;
    }

    .logo {
      color: #000;
      font-weight: 700;
      font-size: 24px;
      float: left;
    }

    header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
    }

    .logo-container {
      z-index: 2;
      /* Ensure logo stays above nav */
    }


    nav ul {
      display: flex;
      align-items: center;
      gap: 15px;
      /* Adjust spacing between items */
      padding: 0;
      margin: 0;
    }

    nav ul li {
      margin-left: 25px;
    }

    nav ul li a {
      color: #000;
      font-weight: 500;
      font-size: 14px;
      transition: color 0.3s;
    }

    nav ul li a.active {
      color: darkgoldenrod;
    }

    nav ul li a:hover {
      color: darkgoldenrod;
    }

    .cta-btn {
      background-color: darkgoldenrod;
      color: #000 !important;
      padding: 10px 20px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .cta-btn:hover {
      background-color: #b8860b;
    }

    .mobile-toggle {
      background: transparent;
      border: none;
      color: #000 !important;
      font-size: 24px;
      cursor: pointer;
      z-index: 1001;
      display: none;
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
    }

    .about-gritlab {
      padding: 3rem 0;
      background: #f8f9fa;
    }

    .about-content-card {
      max-width: 800px;
      margin: 0 auto;
      padding: 2.5rem;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      border: 1px solid #eaeaea;
    }

    .about-content {
      line-height: 1.7;
      color: #333;
    }

    .about-content p {
      margin-bottom: 1.5rem;
    }

    .content-divider {
      width: 100%;
      border: none;
      border-top: 2px solid darkgoldenrod;
      margin: 1.5rem 0;
      padding: 0;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }

    @media (max-width: 768px) {
      header {
        position: relative;
        background-color: #fff;
        padding: 15px 0;
      }

      .logo {
        font-size: 20px;
      }

      nav {
        position: fixed;
        top: 0;
        left: auto;
        right: -250px;
        width: 250px;
        height: 100vh;
        background: rgba(255, 255, 255, 0.95);
        transform: none;
        transition: transform 0.3s ease;
        padding: 80px 30px 30px;
      }

      .mobile-toggle {
        display: block;
      }

      nav.active {
        display: block;
      }

      nav.active ul {
        display: flex;
        flex-direction: column;
        position: fixed;
        top: 0;
        right: 0;
        width: 250px;
        height: 100vh;
        background-color: rgba(255, 255, 255, 0.95);
        padding: 80px 30px 30px;
        align-items: flex-start;
        box-shadow: -5px 0 25px rgba(0, 0, 0, 0.2);
        animation: slideIn 0.3s forwards;
      }

      nav ul li {
        margin: 15px 0;
      }

      nav ul li a {
        font-size: 16px;
      }

      nav.active {
        transform: translateX(-100%);
      }

      nav ul {
        flex-direction: column;
        gap: 20px;
      }

      @keyframes slideIn {
        from {
          transform: translateX(100%);
        }

        to {
          transform: translateX(0);
        }
      }
    }

    .hero {
      height: 100vh;
      /**background-image: linear-gradient(rgba(226, 221, 221, 0.7), rgba(226, 221, 221, 0.7)), url('Assets/images/Team.webp');**/
      background-size: cover;
      background-position: center;
      color: #000;
      display: flex;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .hero h1 {
      font-size: 3.5rem;
      font-weight: 700;
      margin: 20px 0;
      line-height: 1.2;
    }

    .hero-subtitle {
      font-size: 1.2rem;
      max-width: 600px;
      margin-bottom: 120px;
    }

    .watch-video {
      background-color: rgba(0, 0, 0, 0.5);
      border: 1px solid darkgoldenrod;
      color: darkgoldenrod;
      padding: 10px 18px;
      border-radius: 4px;
      display: inline-flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 20px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .watch-video i {
      margin-right: 8px;
      font-size: 11px;
      background: darkgoldenrod;
      color: #000;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .watch-video:hover {
      background-color: darkgoldenrod;
      color: #000;
      box-shadow: 0 5px 15px rgba(184, 134, 11, 0.4);
    }

    .watch-video:hover i {
      background-color: #000;
      color: darkgoldenrod;
      transform: scale(1.1);
    }

    .featured-projects {
      position: relative;
      margin-top: -100px;
    }

    .project-cards {
      display: flex;
      justify-content: space-between;
      gap: 30px;
    }

    .project-card {
      background: white;
      border-radius: 5px;
      padding: 30px;
      flex: 1;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
    }

    .project-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 40px rgba(184, 134, 11, 0.3);
    }

    .project-card .icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: darkgoldenrod;
      position: relative;
    }

    .project-card h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: #000;
    }

    .project-card p {
      color: #000;
      margin-bottom: 20px;
      font-size: 0.9rem;
    }

    .read-more {
      display: inline-block;
      padding: 8px 15px;
      background-color: darkgoldenrod;
      color: #000;
      border-radius: 3px;
      font-size: 0.8rem;
      transition: background-color 0.3s;
    }

    .read-more:hover {
      background-color: #b8860b;
    }

    .glow {
      position: relative;
    }

    .glow::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, darkgoldenrod, #f1c40f, #e67e22, darkgoldenrod);
      z-index: -1;
      border-radius: 7px;
      background-size: 400%;
      animation: glowing 20s linear infinite;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .glow:hover::before {
      opacity: 1;
    }

    .glow.active::before {
      opacity: 0.8;
    }

    @keyframes glowing {
      0% {
        background-position: 0 0;
      }

      50% {
        background-position: 400% 0;
      }

      100% {
        background-position: 0 0;
      }
    }

    .additional-projects {
      padding: 80px 0;
      background-color: #f9f6f0;
    }

    .additional-projects h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 50px;
      color: #000;
    }

    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 30px;
    }

    .project-item {
      background: white;
      border-radius: 5px;
      padding: 25px;
      text-align: center;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
    }

    .project-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(184, 134, 11, 0.2);
    }

    .project-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: darkgoldenrod;
      background-color: #f5f5f5;
      border-radius: 50%;
    }

    .project-item h3 {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    .project-item p {
      color: #000;
      font-size: 0.85rem;
      margin-bottom: 15px;
    }

    .visit-link {
      display: inline-block;
      color: darkgoldenrod;
      font-size: 0.85rem;
      font-weight: 500;
      transition: color 0.3s;
    }

    .visit-link:hover {
      color: #b8860b;
    }



    footer {
      background-color: #111;
      color: #000;
      padding: 60px 0 20px;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 40px;
      margin-bottom: 40px;
    }

    .footer-logo {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 15px;
    }

    .footer-links h4,
    .footer-contact h4,
    .footer-social h4 {
      font-size: 1.2rem;
      margin-bottom: 20px;
      color: #ffffff;
    }

    .footer-links ul li {
      margin-bottom: 10px;
    }

    .footer-links ul li a {
      color: #ffffff;
      transition: color 0.3s;
    }

    .footer-links ul li a:hover {
      color: darkgoldenrod;
    }

    .footer-contact p {
      color: #ffffff;
      margin-bottom: 10px;
    }

    .social-icons {
      display: flex;
      gap: 15px;
    }

    .social-icons a {
      color: #ffffff;
      background-color: #333;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s;
    }

    .social-icons a:hover {
      background-color: darkgoldenrod;
    }

    .copyright {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid #333;
      color: #ffffff;
      font-size: 0.9rem;
    }

    .mobile-toggle {
      display: none;
      background: transparent;
      border: none;
      color: #000 #000 !important;
      font-size: 24px;
      cursor: pointer;
      z-index: 1000;
    }

    @media (max-width: 991px) {
      .hero h1 {
        font-size: 2.8rem;
      }

      .project-cards {
        flex-direction: column;
      }

      .featured-projects {
        margin-top: 0;
      }

      .hero {
        height: auto;
        padding: 120px 0 60px;
      }

      .hero-subtitle {
        margin-bottom: 40px;
      }
    }

    @media (max-width: 768px) {
      header {
        position: relative;
        background-color: #fff;
        padding: 15px 0;
      }

      .logo {
        font-size: 20px;
      }

      nav {
        display: none;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1;
      }

      .mobile-toggle {
        display: block;
      }

      nav.active ul {
        display: flex;
        flex-direction: column;
        position: fixed;
        top: 0;
        right: 0;
        width: 250px;
        height: 100vh;
        background-color: rgba(255, 255, 255, 0.95);
        padding: 80px 30px 30px;
        align-items: flex-start;
        box-shadow: -5px 0 25px rgba(0, 0, 0, 0.2);
        animation: slideIn 0.3s forwards;
      }

      .logo-container {
        gap: 8px;
      }

      .app-name {
        font-size: 1rem;
      }

      nav {
        position: fixed;
        top: 0;
        left: auto;
        right: -250px;
        width: 250px;
        height: 100vh;
        background: rgba(255, 255, 255, 0.95);
        transform: none;
        transition: transform 0.3s ease;
        padding: 80px 30px 30px;
      }

      nav.active {
        transform: translateX(-100%);
      }

      nav ul {
        flex-direction: column;
        gap: 20px;
      }

      nav ul li {
        margin: 15px 0;
      }

      nav ul li a {
        font-size: 16px;
      }


      @keyframes slideIn {
        from {
          transform: translateX(100%);
        }

        to {
          transform: translateX(0);
        }
      }

      .hero h1 {
        font-size: 2rem;
      }

      .hero-subtitle {
        font-size: 1rem;
      }

      .footer-content {
        grid-template-columns: 1fr;
        gap: 30px;
      }

      .html {
        scroll-behavior: smooth;
      }

    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-img {
      height: 300px;
      width: auto;
    }

    .app-name {
      font-size: 1.2rem;
      font-weight: 800;
      /* Extra-bold */
      color: black;
      /* Black text */
      text-decoration: underline;
      text-decoration-color: darkgoldenrod;
      /* Golden underline */
      text-underline-offset: 5px;
      /* Space between text & underline */
      text-decoration-thickness: 2px;
      /* Thicker underline */
    }

    /*Intro*/

    /* Intro Overlay */
    .intro-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      backdrop-filter: blur(10px);
      /* Blurry background */
      opacity: 1;
      transition: opacity 0.5s ease;
    }

    .intro-overlay.hide {
      opacity: 0;
      pointer-events: none;
    }

    .intro-text {
      font-size: 4rem;
      font-weight: 900;
      color: #000;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.6);
      /* Glow effect */
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 1;
      }

      50% {
        transform: scale(1.05);
        opacity: 0.9;
      }
    }

    @media (max-width: 768px) {
      .intro-text {
        font-size: 2.5rem;
      }
    }

    .testimonials-section {
      padding: 4rem 0;
      background-color: #f8f9fa;
    }

    .testimonials-container {
      width: 100%;
      overflow: hidden;
      position: relative;
      padding: 1rem 0;
    }

    .testimonials-track {
      display: flex;
      gap: 2rem;
      animation: scroll 40s linear infinite;
      width: calc(300% + 6rem);
      /* Adjust based on number of testimonials */
    }

    .testimonial-card {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 350px;
      min-width: 300px;
      transition: transform 0.3s ease;
      border: 1px solid #eaeaea;
      flex-shrink: 0;
    }

    .testimonial-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    .testimonial-icon {
      color: darkgoldenrod;
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .testimonial-header {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #333;
    }

    .testimonial-text {
      color: #555;
      line-height: 1.6;
      font-size: 0.95rem;
    }
    

    @keyframes scroll {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(calc(-100% - 2rem));
        /* Adjust based on number of testimonials */
      }
    }

    @media (max-width: 768px) {
      .testimonials-track {
        animation: scroll 60s linear infinite;
        gap: 1.5rem;
        /* Reduced gap for mobile */
        overflow-x: auto;
        /* Enable manual scrolling */
        scroll-snap-type: x mandatory;
        /* Enable snap scrolling */
        -webkit-overflow-scrolling: touch;
        /* Smooth scrolling on iOS */
      }

      .testimonial-card {
        min-width: 250px;
        scroll-snap-align: start;
      }
    }

    .hero {
      height: 100vh;
      position: relative;
      overflow: hidden;
      color: #000;
      display: flex;
      align-items: center;
    }

    .hero-slideshow {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .hero-slide {
      position: absolute;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
      /* Dark overlay for better text contrast */
      background-color: rgba(0, 0, 0, 0.3);
      background-blend-mode: overlay;
    }

    .hero-slide.active {
      opacity: 1;
    }

    /* Keep existing gradient overlay */
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: linear-gradient(rgba(226, 221, 221, 0.7), rgba(226, 221, 221, 0.7));
      z-index: 0;
    }

    .hero .container {
      position: relative;
      z-index: 1;
    }
.about-gritlab {
    padding: 3rem 0;
    background-color: #f8f9fa;
    background-image: radial-gradient(darkgoldenrod 1px, transparent 1px);
    background-size: 20px 20px;
  }
    @keyframes scroll {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(calc(-100% - 2rem));
      }
    }
  </style>
  
</head>

<body>

  <header>
    <div class="container">
      <div class="logo-container">
        <img src="Assets/images/GritLabAfricaLogo.png" alt="ECOWAS Logo" class="logo-img"
          style="max-height: 50px;">
        <span class="app-name">GritLab Africa</span>
      </div>
      <button type="button" class="mobile-toggle"><i class="fa-solid fa-bars"></i></button>
      <nav>
        <ul>
          <li><a href="index.html" class="active">Home</a></li>

          <li><a href="#About">About</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a class="cta-btn" href="#">Apply</a></li>
        </ul>
      </nav>
    </div>
  </header>


    <div class="chatbot-container hidden" id="chatbotContainer">
    <div class="chat-header">
      <div class="flex items-center space-x-2">
        <div class="avatar">
          <img src="Images/GritLab Logo.png" alt="GRIT Lab Africa Logo">
          <div class="status"></div>
        </div>
        <div>
          <h2 class="title">GRIT Lab Africa Bot <i data-lucide="zap" class="h-3 w-3"></i></h2>
          <p class="subtitle"><i data-lucide="book-open" class="h-2 w-2"></i>Ready to answer about GRIT Lab Africa</p>
        </div>
      </div>
      <span class="badge">Knowledge Powered</span>
    </div>
    <div class="chat-messages" id="chatMessages">
      <div class="message bot">
        <div class="avatar"><i data-lucide="bot" class="h-4 w-4"></i></div>
        <div class="message-content">
          <p>ðŸ‘‹ Hello! Ask me anything about GRIT Lab Africa!</p>
          <div class="meta">
            <span id="currentTime"></span>
            <div class="actions">
              <button class="reaction-like" aria-label="Like this message" title="Like"><i data-lucide="thumbs-up" class="h-3 w-3"></i></button>
              <button class="reaction-dislike" aria-label="Dislike this message" title="Dislike"><i data-lucide="thumbs-down" class="h-3 w-3"></i></button>
              <button class="copy-message" aria-label="Copy message" title="Copy"><i data-lucide="copy" class="h-3 w-3"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="quick-prompts" id="quickPrompts">
      <button data-prompt="What is GRIT Lab Africa?">What is GRIT Lab Africa?</button>
      <button data-prompt="Who founded GRIT Lab Africa?">Who founded it?</button>
      <button data-prompt="What programs does GRIT Lab Africa offer?">Programs</button>
      <button data-prompt="When was GRIT Lab Africa founded?">Founded</button>
      <button data-prompt="What are GRIT Lab Africaâ€™s awards?">Awards</button>
    </div>
    <div class="chat-input">
      <form id="chatForm">
        <div class="input-wrapper">
          <input type="text" id="chatInput" placeholder="Ask about GRIT Lab Africa...">
          <div class="input-actions">
            <button type="button" aria-label="Attach file" title="Attach"><i data-lucide="paperclip" class="h-4 w-4"></i></button>
            <button type="button" aria-label="Add emoji" title="Emoji"><i data-lucide="smile" class="h-4 w-4"></i></button>
            <button type="button" aria-label="Voice input" title="Voice"><i data-lucide="mic" class="h-4 w-4"></i></button>
          </div>
        </div>
        <button type="submit" class="send-button" aria-label="Send message" title="Send"><i data-lucide="send" class="h-4 w-4"></i></button>
      </form>
      <p class="input-info">Press Enter to send</p>
    </div>
  </div>
  <button class="toggle-button" id="toggleButton">
    <img src="Images/Screenshot 2026-01-08 183702.png" alt="Toggle Chatbot">
  </button>

  <!-- Masterpage JS -->
  <script src="masterpage.js"></script>

  <!-- Toggle Button Handler - Direct -->
  <script>
    function toggleChatbot() {
      console.log('Toggle button clicked!');
      const chatbot = document.getElementById('chatbotContainer');
      if (chatbot) {
        chatbot.classList.toggle('hidden');
        console.log('Chatbot is now:', chatbot.classList.contains('hidden') ? 'hidden' : 'visible');
      } else {
        console.error('Chatbot container not found');
      }
    }
    
    // Direct OpenRouter API integration
    async function sendChatMessage() {
      console.log('sendChatMessage called');
      const chatInput = document.getElementById('chatInput');
      const message = chatInput.value.trim();
      
      if (!message) return;
      
      const messagesContainer = document.getElementById('chatMessages');
      
      // Add user message
      const userMessage = document.createElement('div');
      userMessage.className = 'message user';
      userMessage.innerHTML = `
        <div class="message-content">
          <p>${message}</p>
          <div class="meta">
            <span>${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>
          </div>
        </div>
      `;
      messagesContainer.appendChild(userMessage);
      chatInput.value = '';
      
      // Add loading spinner
      const loadingSpinner = document.createElement('div');
      loadingSpinner.className = 'loading-spinner';
      loadingSpinner.innerHTML = `<div class="dot"></div><div class="dot"></div><div class="dot"></div>`;
      messagesContainer.appendChild(loadingSpinner);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
      
      // Call OpenRouter directly
      try {
        const models = [
          'anthropic/claude-opus-4.6',
          'liquid/lfm-2.5-1.2b-thinking:free',
          'upstage/solar-pro-3:free',
          'arcee-ai/trinity-large-preview:free',
          'sourceful/riverflow-v2-pro'
        ];
        
        let answer = null;
        
        for (const model of models) {
          try {
            console.log(`Trying model: ${model}`);
            const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
              method: 'POST',
              headers: {
                'Authorization': 'Bearer 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',
                'Content-Type': 'application/json',
                'HTTP-Referer': 'https://www.gritlabafrica.org',
                'X-Title': 'GRIT Lab Africa Chatbot'
              },
              body: JSON.stringify({
                model,
                messages: [
                  { 
                    role: 'system', 
                    content: `You are a helpful assistant for GRIT Lab Africa (gritlabafrica.org). ONLY provide information from the official gritlabafrica.org website. Do NOT make up information.

KEY FACTS:
**Founder**: Professor Abejide Ade-Ibijola (Full Professor of AI at University of Johannesburg)
**Co-Directors**: Suhail Ally (Software Developer), Ms. Anthea Windvogel (Founder of ElevateHer)
**Founded**: 2016
**Mission**: Train young Africans in programming and tech skills
**Track Record**: 2000+ students trained across 11 African countries with 100% employment rate

**Programs**: Introductory Programming, Data Structures & Algorithms, Web Development, Mobile Apps, Game Development, Data Science, Machine Learning

**Eligibility**: Ages 18-21, African resident, enrolled in accredited African higher institution, STEM or non-STEM with tech interest, 1st/2nd year with 65%+ average

**Graduate Outcomes**: 100% employment rate, undergrads earn R22,000/month, fresh grads earn R37,500/month

**Contact**: Phone: 011 599 1989, Email: info@gritlabafrica.org
**Address**: 69 Kingsway Avenue, JBS Park, Auckland Park, South Africa

If asked about something not listed above, say "I don't have that information. Please contact info@gritlabafrica.org for details." Never fabricate facts.` 
                  },
                  { 
                    role: 'user', 
                    content: message 
                  }
                ],
                max_tokens: 500
              })
            });
            
            if (response.ok) {
              const data = await response.json();
              answer = data.choices[0].message.content;
              console.log(`Success with model: ${model}`);
              break;
            }
          } catch (err) {
            console.error(`Model ${model} failed:`, err.message);
            continue;
          }
        }
        
        if (!answer) {
          answer = 'Sorry, I could not process your request. Please try again later or contact info@gritlabafrica.org';
        }
        
        // Format response with comprehensive markdown support
        let formattedAnswer = answer
          .replace(/^### (.*?)$/gm, '<h3>$1</h3>')            // H3 headings
          .replace(/^## (.*?)$/gm, '<h2>$1</h2>')             // H2 headings
          .replace(/^# (.*?)$/gm, '<h1>$1</h1>')              // H1 headings
          .replace(/^- (.*?)$/gm, '<li>$1</li>')              // Bullet points
          .replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>')         // Wrap bullets in ul
          .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')  // Bold text
          .replace(/\*(.*?)\*/g, '<em>$1</em>')              // Italic text
          .replace(/\n\n/g, '</p><p>')                       // Paragraph breaks
          .replace(/\n/g, '<br>');                           // Line breaks
        
        // Add bot message
        const botMessage = document.createElement('div');
        botMessage.className = 'message bot';
        botMessage.innerHTML = `
          <div class="message-content">
            <p>${formattedAnswer}</p>
            <div class="meta">
              <span>${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>
            </div>
          </div>
        `;
        
        messagesContainer.removeChild(loadingSpinner);
        messagesContainer.appendChild(botMessage);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      } catch (error) {
        console.error('Error:', error);
        const errorMessage = document.createElement('div');
        errorMessage.className = 'message bot';
        errorMessage.innerHTML = `
          <div class="message-content">
            <p>Error: ${error.message}</p>
          </div>
        `;
        messagesContainer.removeChild(loadingSpinner);
        messagesContainer.appendChild(errorMessage);
      }
    }
    
    // Attach listener immediately
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Attaching toggle button listener...');
      const btn = document.getElementById('toggleButton');
      if (btn) {
        btn.addEventListener('click', toggleChatbot);
        console.log('Toggle button listener attached');
      }
      
      // Attach form handler
      const chatForm = document.getElementById('chatForm');
      if (chatForm) {
        console.log('Attaching form submit handler...');
        chatForm.addEventListener('submit', function(e) {
          console.log('Form submit event caught');
          e.preventDefault();
          e.stopPropagation();
          sendChatMessage();
          return false;
        });
      }
      
      // Attach Enter key handler to input
      const chatInput = document.getElementById('chatInput');
      if (chatInput) {
        console.log('Attaching input Enter key handler...');
        chatInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter' && !e.shiftKey) {
            console.log('Enter key pressed in input');
            e.preventDefault();
            sendChatMessage();
          }
        });
      }
    });
  </script>

  <!-- Chatbot JS -->
  <script type="module" src="chatbot.js"></script>
  import { getFirestore, collection, doc, getDoc, setDoc, addDoc, getDocs, query, orderBy, limit, where } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js';
  import { getAuth, signInAnonymously } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js';
  import { getAnalytics } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js';

  // Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyArCNt1aMvyOpf4WXdkiOk8-7JjkklsDPU",
    authDomain: "grit-bot.firebaseapp.com",
    projectId: "grit-bot",
    storageBucket: "grit-bot.firebasestorage.app",
    messagingSenderId: "606404992669",
    appId: "1:606404992669:web:f7ada90b24b6aa42be3e74",
    measurementId: "G-NE6XLTM3CK"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);
  const analytics = getAnalytics(app);

  // Initialize anonymous authentication
  let userId = null;
  let authInitialized = false;
  signInAnonymously(auth)
    .then(userCredential => {
      userId = userCredential.user.uid;
      authInitialized = true;
      console.log('Anonymous auth successful, userId:', userId);
      loadConversationHistory();
    })
    .catch(error => {
      console.error('Auth error:', error.code, error.message);
      alert(`Failed to initialize chat: ${error.message}. Please refresh or contact support.`);
    });

  lucide.createIcons();

  function updateTime() {
    document.getElementById('currentTime').textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }
  updateTime();
  setInterval(updateTime, 60000);

  function toggleChatbot() {
    console.log('Toggling chatbot');
    const chatbot = document.getElementById('chatbotContainer');
    const toggleButton = document.getElementById('toggleButton');
    if (chatbot.classList.contains('hidden')) {
      chatbot.classList.remove('hidden');
      toggleButton.classList.remove('visible');
    } else {
      chatbot.classList.add('hidden');
      toggleButton.classList.add('visible');
    }
  }

  let conversationHistory = [];

  async function checkRateLimit() {
    console.log('Checking rate limit for userId:', userId);
    if (!userId || !authInitialized) {
      console.error('Authentication not ready. userId:', userId, 'authInitialized:', authInitialized);
      alert('Authentication not ready. Please try again.');
      return false;
    }
    const rateLimitRef = doc(db, 'rateLimits', userId);
    const docSnap = await getDoc(rateLimitRef);
    const now = Date.now();
    const windowMs = 60 * 1000; // 1 minute
    const maxRequests = 10;

    if (!docSnap.exists()) {
      console.log('No rate limit doc found, creating new one');
      await setDoc(rateLimitRef, { count: 1, timestamp: now });
      return true;
    }

    const data = docSnap.data();
    console.log('Rate limit data:', data);
    if (now - data.timestamp > windowMs) {
      console.log('Resetting rate limit');
      await setDoc(rateLimitRef, { count: 1, timestamp: now });
      return true;
    }

    if (data.count >= maxRequests) {
      console.log('Rate limit exceeded');
      return false;
    }

    console.log('Incrementing rate limit count');
    await setDoc(rateLimitRef, { count: data.count + 1, timestamp: now });
    return true;
  }

  async function loadConversationHistory() {
    if (!userId || !authInitialized) {
      console.error('Cannot load conversation history: userId or auth not initialized');
      return;
    }
    console.log('Loading conversation history for userId:', userId);
    const historyQuery = query(
      collection(db, 'conversations', userId, 'history'),
      orderBy('timestamp', 'desc'),
      limit(5)
    );
    try {
      const snapshot = await getDocs(historyQuery);
      conversationHistory = snapshot.docs.map(doc => doc.data());
      console.log('Conversation history loaded:', conversationHistory);
      updateQuickPrompts();
    } catch (error) {
      console.error('Error loading conversation history:', error.message);
    }
  }

  async function saveConversation(queryText, response) {
    if (!userId || !authInitialized) {
      console.error('Cannot save conversation: userId or auth not initialized');
      return;
    }
    console.log('Saving conversation:', { queryText, response });
    try {
      await addDoc(collection(db, 'conversations', userId, 'history'), {
        query: queryText,
        response,
        timestamp: new Date()
      });
      conversationHistory.push({ query: queryText, response });
      conversationHistory = conversationHistory.slice(-5);
      updateQuickPrompts();
    } catch (error) {
      console.error('Error saving conversation:', error.message);
    }
  }

  async function checkCache(queryText) {
    console.log('Checking cache for query:', queryText);
    const normalizedQuery = queryText.toLowerCase().trim();
    const cacheQuery = query(collection(db, 'cache'), where('query', '==', normalizedQuery));
    try {
      const snapshot = await getDocs(cacheQuery);
      if (!snapshot.empty) {
        const doc = snapshot.docs[0].data();
        const cacheTime = doc.timestamp.toDate().getTime();
        const now = Date.now();
        const ttlMs = 24 * 60 * 60 * 1000; // 24 hours
        if (now - cacheTime < ttlMs) {
          console.log('Cache hit:', doc);
          return { content: doc.response, source: doc.source, scores: doc.scores || [] };
        } else {
          console.log('Cache expired, deleting');
          await snapshot.docs[0].ref.delete();
        }
      } else {
        console.log('No cache hit for query:', normalizedQuery);
      }
    } catch (error) {
      console.error('Error checking cache:', error.message);
    }
    return null;
  }

  async function findClosestCachedQuery(queryText) {
    console.log('Finding closest cached query for:', queryText);
    const normalizedQuery = queryText.toLowerCase().trim();
    const tokens = normalizedQuery.split(/\s+/);
    try {
      const cacheQuery = query(collection(db, 'cache'), orderBy('timestamp', 'desc'), limit(50));
      const snapshot = await getDocs(cacheQuery);
      if (snapshot.empty) {
        console.log('No cached queries found');
        return null;
      }

      let bestMatch = null;
      let highestScore = 0;

      snapshot.docs.forEach(doc => {
        const cachedQuery = doc.data().query.toLowerCase().trim();
        const cachedTokens = cachedQuery.split(/\s+/);
        const intersection = tokens.filter(token => cachedTokens.includes(token));
        const score = intersection.length / Math.max(tokens.length, cachedTokens.length, 1);

        if (score > highestScore && score >= 0.4) { // Lowered threshold for broader matching
          highestScore = score;
          bestMatch = {
            content: doc.data().response,
            source: doc.data().source,
            scores: doc.data().scores || [],
            query: cachedQuery
          };
        }
      });

      if (bestMatch) {
        console.log('Closest cached query found:', bestMatch.query, 'Score:', highestScore);
        return bestMatch;
      } else {
        console.log('No sufficiently similar cached query found');
        return null;
      }
    } catch (error) {
      console.error('Error finding closest cached query:', error.message);
      return null;
    }
  }

  async function saveToCache(queryText, response, source, scores) {
    console.log('Saving to cache:', { queryText, response, source, scores });
    try {
      await addDoc(collection(db, 'cache'), {
        query: queryText.toLowerCase().trim(),
        response,
        source,
        scores,
        timestamp: new Date()
      });
      console.log('Cache saved successfully');
    } catch (error) {
      console.error('Error saving to cache:', error.message);
    }
  }

  // Hardcoded fallback responses for common queries
  const fallbackResponses = {
    location: {
      keywords: ['location', 'address', 'where'],
      response: 'Grit Lab Africa is located at 69 Kingsway Avenue, JBS Park, Auckland Park, South Africa.',
      source: 'GRIT Lab Africa Website Footer'
    },
    contact: {
      keywords: ['contact', 'phone', 'email'],
      response: 'You can contact GRIT Lab Africa at Phone: 011 599 1989, Email: info@gritlabafrica.org.',
      source: 'GRIT Lab Africa Website Footer'
    },
    programs: {
      keywords: ['programs', 'bootcamp', 'courses', 'training'],
      response: 'GRIT Lab Africa offers free training in computer programming skills, including Introductory Programming, Data Structures and Algorithms, Web Development, Mobile App Development, Game Development, Data Science, and Machine Learning, along with mentoring in mindset, discipline, and GRIT.',
      source: 'GRIT Lab Africa Website (https://www.gritlabafrica.org/about)'
    },
    eligibility: {
      keywords: ['eligibility', 'apply', 'join', 'requirements', 'win'],
      response: 'To join GRIT Lab Africa, applicants must be 18-21 years old (or provide motivation if younger/older), African residents, registered in an accredited African higher institution, studying a STEM-related field (or non-STEM with tech interest), in their first or second year with a 65%+ average, and disciplined. No prior programming knowledge is required.',
      source: 'GRIT Lab Africa Website (https://www.gritlabafrica.org/apply)'
    },
    founder: {
      keywords: ['founder', 'founded', 'who started'],
      response: 'GRIT Lab Africa was founded in 2016 by Professor Abejide Ade-Ibijola.',
      source: 'GRIT Lab Africa Website (https://www.gritlabafrica.org/)'
    },
    benefits: {
      keywords: ['benefits', 'skills', 'what do i get'],
      response: 'Participants in GRIT Lab Africa gain skills in programming (e.g., Web Development, Data Science), mindset training, discipline, and GRIT. Graduates have a 100% employment rate in South Africaâ€™s tech industry and opportunities to start tech ventures.',
      source: 'GRIT Lab Africa Website (https://www.gritlabafrica.org/about)'
    }
  };

  // Keyword mapping for query normalization (similar to server-side synonymMap)
  const keywordMap = {
    'bootcamp': 'programs',
    'bootcapm': 'programs',
    'course': 'programs',
    'training': 'programs',
    'win': 'eligibility',
    'join': 'eligibility',
    'apply': 'eligibility',
    'requirements': 'eligibility',
    'where': 'location',
    'address': 'location',
    'phone': 'contact',
    'email': 'contact',
    'skill': 'benefits',
    'benefits': 'benefits',
    'founded': 'founder',
    'starter': 'founder',
    'who started': 'founder'
  };

  function normalizeQuery(queryText) {
    let normalized = queryText.toLowerCase().trim();
    Object.keys(keywordMap).forEach(word => {
      normalized = normalized.replace(new RegExp(`\\b${word}\\b`, 'gi'), keywordMap[word]);
    });
    return normalized;
  }

  function cleanBotAnswer(rawAnswer) {
    if (!rawAnswer) {
      return '';
    }
    let text = String(rawAnswer);
    text = text.replace(/<p>\s*based\s+solely[\s\S]*?<\/p>/gi, '');
    text = text.replace(/based\s+solely\s+on\s+the\s+provided\s+context\s*:?\s*/gi, '');
    text = text.replace(/<p>\s*source\s*:\s*[^<]*<\/p>/gi, '');
    text = text.replace(/\*\*\s*source\s*\*\*\s*:?\s*.*$/gmi, '');
    text = text.replace(/^\s*source\s*:\s*.*$/gmi, '');
    text = text.replace(/\n{3,}/g, '\n\n').trim();
    return text;
  }

  async function handleSendMessage(event) {
    console.log('handleSendMessage triggered');
    event.preventDefault();
    const input = document.getElementById('chatInput');
    const message = input.value.trim();
    console.log('Message input:', message);
    if (!message) {
      console.log('Empty message, exiting');
      return;
    }

    if (!authInitialized) {
      console.error('Authentication not ready. authInitialized:', authInitialized);
      alert('Authentication not ready. Please wait and try again.');
      return;
    }

    if (!(await checkRateLimit())) {
      console.error('Rate limit exceeded');
      alert('Rate limit exceeded. Please wait a minute before trying again.');
      return;
    }

    const messagesContainer = document.getElementById('chatMessages');
    const userMessage = document.createElement('div');
    userMessage.className = 'message user';
    userMessage.innerHTML = `
      <div class="message-content">
        <p>${message}</p>
        <div class="meta">
          <span>${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>
          <div class="actions">
            <button class="copy-message"><i data-lucide="copy" class="h-3 w-3"></i></button>
          </div>
        </div>
      </div>
      <div class="avatar"><i data-lucide="user" class="h-4 w-4"></i></div>
    `;
    messagesContainer.appendChild(userMessage);
    input.value = '';
    console.log('User message appended');

    const loadingSpinner = document.createElement('div');
    loadingSpinner.className = 'loading-spinner';
    loadingSpinner.innerHTML = `
      <div class="dot"></div><div class="dot"></div><div class="dot"></div>
    `;
    messagesContainer.appendChild(loadingSpinner);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
    console.log('Loading spinner added');

    let answer = '';
    let source = 'None';
    let scores = [];
    const normalizedQuery = normalizeQuery(message);
    console.log('Normalized query:', normalizedQuery);

    try {
      // Try exact cache match first
      const cachedResult = await checkCache(normalizedQuery);
      if (cachedResult) {
        console.log('Using cached result');
        answer = cleanBotAnswer(cachedResult.content);
        source = cachedResult.source;
        scores = cachedResult.scores;
      } else {
        console.log('Fetching from Netlify function');
        const response = await fetch('/.netlify/functions/queryOpenSources', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ query: normalizedQuery, userId })
        });
        console.log('Fetch response status:', response.status);
        if (!response.ok) {
          console.error('Fetch failed with status:', response.status);
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        const data = await response.json();
        console.log('Fetch response data:', data);
        if (data.error) {
          console.error('Netlify function error:', data.error);
          throw new Error(data.error);
        }
        answer = cleanBotAnswer(data.content || `
          Sorry, I couldnâ€™t find specific information about "${message}".
        `);
        source = data.source || 'GRIT Lab Africa Website';
        scores = data.scores || [];
        await saveToCache(normalizedQuery, answer, source, scores);
      }
    } catch (error) {
      console.error('Error in handleSendMessage:', error.message);
      // Try to find a similar cached query
      const similarResult = await findClosestCachedQuery(normalizedQuery);
      if (similarResult) {
        console.log('Using similar cached result for query:', similarResult.query);
        answer = cleanBotAnswer(similarResult.content);
        source = similarResult.source;
        scores = similarResult.scores;
      } else {
        // Check for keyword matches in fallbackResponses
        let matchedKey = null;
        for (const key in fallbackResponses) {
          if (fallbackResponses[key].keywords.some(keyword => normalizedQuery.includes(keyword))) {
            matchedKey = key;
            break;
          }
        }
        if (matchedKey) {
          console.log('Using fallback response for:', matchedKey);
          answer = cleanBotAnswer(fallbackResponses[matchedKey].response);
          source = fallbackResponses[matchedKey].source;
        } else {
          // Ultimate fallback if no cache or keyword match
          answer = cleanBotAnswer(`Sorry, I couldnâ€™t fetch information due to an error (${error.message}).`);
ilar cached result for query:', similarResult.query);
        answer = DOMPurify.sanitize(marked.parse(`
          
          ${similarResult.content}
          
          **Source**: ${similarResult.source}
          Please try again or ask about GRIT Lab Africa's programs, benefits, awards, certificates, team, or projects.
        `));
        source = similarResult.source;
        scores = similarResult.scores;
      } else {
        // Check for keyword matches in fallbackResponses
        let matchedKey = null;
        for (const key in fallbackResponses) {
          if (fallbackResponses[key].keywords.some(keyword => normalizedQuery.includes(keyword))) {
            matchedKey = key;
            break;
          }
        }
        if (matchedKey) {
          console.log('Using fallback response for:', matchedKey);
          answer = DOMPurify.sanitize(marked.parse(`
            ${fallbackResponses[matchedKey].response}
            
            **Note**: This is a fallback response due to an error (${error.message}). For more details, contact info@gritlabafrica.org.
          `));
          source = fallbackResponses[matchedKey].source;
        } else {
          // Ultimate fallback if no cache or keyword match
          answer = DOMPurify.sanitize(marked.parse(`
            Sorry, I couldnâ€™t fetch information due to an error (${error.message}). GRIT Lab Africa is a non-profit focused on tech training for young Africans. Try asking about its programs, benefits, awards, certificates, team, or projects.

            **Source**: None
            **Note**: Contact info@gritlabafrica.org for more information.
          `));
        }
      }
    }

    // Parse and sanitize answer if not already done
    if (!answer.includes('<p>')) {
      answer = DOMPurify.sanitize(marked.parse(answer));
    }
    await saveConversation(message, answer);

    const botMessage = document.createElement('div');
    botMessage.className = 'message bot';
    botMessage.innerHTML = `
      <div class="avatar"><i data-lucide="bot" class="h-4 w-4"></i></div>
      <div class="message-content">
        ${answer}
        <div class="meta">
          <span>${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>
          <div class="actions">
            <button class="reaction-like" aria-label="Like this message" title="Like"><i data-lucide="thumbs-up" class="h-3 w-3"></i></button>
            <button class="reaction-dislike" aria-label="Dislike this message" title="Dislike"><i data-lucide="thumbs-down" class="h-3 w-3"></i></button>
            <button class="copy-message" aria-label="Copy message" title="Copy"><i data-lucide="copy" class="h-3 w-3"></i></button>
          </div>
        </div>
      </div>
    `;
    messagesContainer.removeChild(loadingSpinner);
    messagesContainer.appendChild(botMessage);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
    lucide.createIcons();
    console.log('Bot message appended');
  }

  function handleKeyPress(event) {
    console.log('handleKeyPress triggered, key:', event.key);
    if (event.key === 'Enter' && !event.shiftKey) {
      event.preventDefault();
      handleSendMessage(event);
    }
  }

  function setInput(text) {
    console.log('Setting input:', text);
    document.getElementById('chatInput').value = text;
  }

  function copyMessage(content) {
    console.log('Copying message:', content);
    navigator.clipboard.writeText(content.replace(/<[^>]+>/g, '')).then(() => {
      alert('Message copied to clipboard!');
    }).catch(err => {
      console.error('Copy failed:', err);
    });
  }

  function handleReaction(id, reaction) {
    console.log('Handling reaction:', { id, reaction });
    const button = event.target.closest('button');
    if (reaction === 'like') {
      button.style.color = button.style.color === 'rgb(74, 222, 128)' ? '' : '#4ade80';
    } else {
      button.style.color = button.style.color === 'rgb(248, 113, 113)' ? '' : '#f87171';
    }
    alert(reaction === 'like' ? 'Thanks for the feedback!' : 'Feedback received');
  }

  async function updateQuickPrompts() {
    console.log('Updating quick prompts');
    const promptsContainer = document.getElementById('quickPrompts');
    const defaultPrompts = [
      'What is GRIT Lab Africa?',
      'Who founded GRIT Lab Africa?',
      'What programs does GRIT Lab Africa offer?',
      'What skills can I get from GRIT Lab Africa?',
    ];
    const recentPrompts = conversationHistory.slice(-2).map(item => item.query);
    const prompts = [...new Set([...defaultPrompts, ...recentPrompts])].slice(0, 11);
    promptsContainer.innerHTML = prompts.map(p => `<button data-prompt="${p}">${p}</button>`).join('');
    console.log('Quick prompts updated:', prompts);

    document.querySelectorAll('#quickPrompts button').forEach(button => {
      button.addEventListener('click', () => {
        const promptText = button.getAttribute('data-prompt');
        setInput(promptText);
      });
    });
  }

  function initializeEventListeners() {
    const chatForm = document.getElementById('chatForm');
    chatForm.addEventListener('submit', handleSendMessage);

    const chatInput = document.getElementById('chatInput');
    chatInput.addEventListener('keypress', handleKeyPress);

    document.querySelectorAll('.copy-message').forEach(button => {
      button.addEventListener('click', () => {
        const content = button.closest('.message-content').innerHTML;
        copyMessage(content);
      });
    });

    document.querySelectorAll('.reaction-like').forEach(button => {
      button.addEventListener('click', () => handleReaction('temp', 'like'));
    });

    document.querySelectorAll('.reaction-dislike').forEach(button => {
      button.addEventListener('click', () => handleReaction('temp', 'dislike'));
    });

    document.getElementById('toggleButton').addEventListener('click', toggleChatbot);
  }

  initializeEventListeners();
  updateQuickPrompts();
  console.log('Script initialized');
</script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const heroSlides = document.querySelectorAll('.hero-slide');
      let currentHeroSlide = 0;

      // Rotate slides every 5 seconds
      setInterval(() => {
        heroSlides[currentHeroSlide].classList.remove('active');
        currentHeroSlide = (currentHeroSlide + 1) % heroSlides.length;
        heroSlides[currentHeroSlide].classList.add('active');
      }, 5000);
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Mobile Menu Toggle
      const mobileToggle = document.querySelector('.mobile-toggle');
      const nav = document.querySelector('nav');

      // Intro animation
      const introOverlay = document.querySelector('.intro-overlay');
      if (introOverlay) {
        setTimeout(() => {
          introOverlay.classList.add('hide');
          setTimeout(() => {
            introOverlay.remove(); // Remove from DOM after fade-out
          }, 500); // Match transition duration
        }, 1000); // Display for 3 seconds
      }

      if (mobileToggle) {
        mobileToggle.addEventListener('click', function (e) {
          e.stopPropagation();
          nav.classList.toggle('active');

          // Toggle between hamburger and close icon
          const icon = this.querySelector('i');
          if (nav.classList.contains('active')) {
            icon.classList.remove('fa-bars');
            icon.classList.add('fa-times');
          } else {
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
          }
        });

        // Close menu when clicking outside
        document.addEventListener('click', function (e) {
          if (!nav.contains(e.target) && e.target !== mobileToggle && nav.classList.contains('active')) {
            nav.classList.remove('active');
            const icon = mobileToggle.querySelector('i');
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
          }
        });

        // Close menu when clicking on a nav link (for smooth scrolling)
        document.querySelectorAll('nav a').forEach(link => {
          link.addEventListener('click', function () {
            if (nav.classList.contains('active')) {
              nav.classList.remove('active');
              const icon = mobileToggle.querySelector('i');
              icon.classList.remove('fa-times');
              icon.classList.add('fa-bars');
            }
          });
        });
      }

      document.addEventListener('DOMContentLoaded', function () {
        const track = document.querySelector('.testimonials-track');
        if (!track) return;

        let isDragging = false;
        let startX;
        let scrollLeft;
        let animationId;
        let isPaused = false;

        // Pause animation on interaction
        function pauseAnimation() {
          if (isPaused) return;
          track.style.animationPlayState = 'paused';
          isPaused = true;
        }

        // Resume animation after delay
        function resumeAnimation() {
          if (!isPaused) return;
          setTimeout(() => {
            track.style.animationPlayState = 'running';
            isPaused = false;
          }, 3000); // Resume after 3 seconds of inactivity
        }

        // Mouse/touch events for desktop and mobile
        track.addEventListener('mousedown', (e) => {
          isDragging = true;
          startX = e.pageX - track.offsetLeft;
          scrollLeft = track.scrollLeft;
          pauseAnimation();
          track.style.cursor = 'grabbing';
        });

        track.addEventListener('touchstart', (e) => {
          isDragging = true;
          startX = e.touches[0].pageX - track.offsetLeft;
          scrollLeft = track.scrollLeft;
          pauseAnimation();
          track.style.cursor = 'grabbing';
        });

        document.addEventListener('mouseup', () => {
          if (!isDragging) return;
          isDragging = false;
          track.style.cursor = 'grab';
          resumeAnimation();
        });

        document.addEventListener('touchend', () => {
          if (!isDragging) return;
          isDragging = false;
          track.style.cursor = 'grab';
          resumeAnimation();
        });

        document.addEventListener('mousemove', (e) => {
          if (!isDragging) return;
          e.preventDefault();
          const x = e.pageX - track.offsetLeft;
          const walk = (x - startX) * 2; // Scroll speed multiplier
          track.scrollLeft = scrollLeft - walk;
        });

        track.addEventListener('touchmove', (e) => {
          if (!isDragging) return;
          e.preventDefault();
          const x = e.touches[0].pageX - track.offsetLeft;
          const walk = (x - startX) * 2; // Scroll speed multiplier
          track.scrollLeft = scrollLeft - walk;
        });

        // Pause on hover for desktop
        track.addEventListener('mouseenter', pauseAnimation);
        track.addEventListener('mouseleave', resumeAnimation);
      });


      // Animate elements on scroll
      const animateOnScroll = () => {
        const elements = document.querySelectorAll('.project-card, .project-item');

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = 1;
              entry.target.style.transform = 'translateY(0)';
            }
          });
        }, { threshold: 0.1 });

        elements.forEach(element => {
          element.style.opacity = 0;
          element.style.transform = 'translateY(20px)';
          element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
          observer.observe(element);
        });
      };

      // Glow effect enhancement
      const enhanceGlowEffects = () => {
        const glowElements = document.querySelectorAll('.glow');

        glowElements.forEach(element => {
          element.addEventListener('mouseenter', () => {
            element.classList.add('active');
          });

          element.addEventListener('mouseleave', () => {
            element.classList.remove('active');
          });
        });
      };

      // Smooth scrolling for anchor links
      const initSmoothScroll = () => {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();

            const targetId = this.getAttribute('href');
            if (targetId === '#') return;

            const target = document.querySelector(targetId);
            if (target) {
              window.scrollTo({
                top: target.offsetTop,
                behavior: 'smooth'
              });
            }
          });
        });
      };

      // Video modal functionality
      const initVideoModal = () => {
        const videoBtn = document.querySelector('.watch-video');
        if (!videoBtn) return;

        videoBtn.addEventListener('click', function () {
          const backdrop = document.createElement('div');
          backdrop.className = 'video-backdrop';
          backdrop.style.position = 'fixed';
          backdrop.style.top = '0';
          backdrop.style.left = '0';
          backdrop.style.width = '100%';
          backdrop.style.height = '100%';
          backdrop.style.backgroundColor = 'rgba(0, 0, 0, 0.85)';
          backdrop.style.zIndex = '1000';
          backdrop.style.display = 'flex';
          backdrop.style.alignItems = 'center';
          backdrop.style.justifyContent = 'center';
          backdrop.style.opacity = '0';
          backdrop.style.transition = 'opacity 0.3s ease';

          const videoContainer = document.createElement('div');
          videoContainer.className = 'video-container';
          videoContainer.style.width = '80%';
          videoContainer.style.maxWidth = '900px';
          videoContainer.style.backgroundColor = '#000';
          videoContainer.style.borderRadius = '8px';
          videoContainer.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.5)';
          videoContainer.style.transform = 'scale(0.9)';
          videoContainer.style.transition = 'transform 0.3s ease';

          const closeBtn = document.createElement('button');
          closeBtn.className = 'video-close-btn';
          closeBtn.innerHTML = 'Ã—';
          closeBtn.style.position = 'absolute';
          closeBtn.style.top = '10px';
          closeBtn.style.right = '15px';
          closeBtn.style.background = 'none';
          closeBtn.style.border = 'none';
          closeBtn.style.color = '#fff';
          closeBtn.style.fontSize = '24px';
          closeBtn.style.cursor = 'pointer';
          closeBtn.style.zIndex = '1001';

          const videoPlaceholder = document.createElement('div');
          videoPlaceholder.className = 'video-iframe-container';
          videoPlaceholder.style.padding = '56.25% 0 0 0';
          videoPlaceholder.style.position = 'relative';
          videoPlaceholder.style.borderRadius = '8px';
          videoPlaceholder.style.overflow = 'hidden';

          const videoContent = document.createElement('iframe');
          videoContent.className = 'video-iframe';
          videoContent.style.position = 'absolute';
          videoContent.style.top = '0';
          videoContent.style.left = '0';
          videoContent.style.width = '100%';
          videoContent.style.height = '100%';
          videoContent.style.backgroundColor = '#111';
          videoContent.src = 'https://www.youtube.com/embed/mzTZ7lX4yVo?autoplay=1&controls=1&modestbranding=1&rel=0&showinfo=0';
          videoContent.setAttribute('allow', 'autoplay; encrypted-media');
          videoContent.setAttribute('allowfullscreen', '');
          videoContent.setAttribute('frameborder', '0');

          videoPlaceholder.appendChild(videoContent);
          videoContainer.appendChild(videoPlaceholder);
          backdrop.appendChild(closeBtn);
          backdrop.appendChild(videoContainer);
          document.body.appendChild(backdrop);

          // Disable body scroll when modal is open
          document.body.style.overflow = 'hidden';

          setTimeout(() => {
            backdrop.style.opacity = '1';
            videoContainer.style.transform = 'scale(1)';
          }, 10);

          const closeModal = function () {
            videoContent.src = '';
            backdrop.style.opacity = '0';
            videoContainer.style.transform = 'scale(0.9)';
            setTimeout(() => {
              document.body.removeChild(backdrop);
              document.body.style.overflow = '';
            }, 300);
          };

          closeBtn.addEventListener('click', closeModal);
          backdrop.addEventListener('click', function (e) {
            if (e.target === backdrop) closeModal();
          });

          // Close with Escape key
          document.addEventListener('keydown', function escClose(e) {
            if (e.key === 'Escape') {
              closeModal();
              document.removeEventListener('keydown', escClose);
            }
          });
        });
      };

      // Initialize all functions
      animateOnScroll();
      enhanceGlowEffects();
      initSmoothScroll();
      initVideoModal();
    });
  </script>

</body>

</html>